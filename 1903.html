<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Austro Franca - AP 1903</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.x.x/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@4.x.x/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
    <style>
      .custom-img{
        position: fixed;
        top: 2em;
        left: 2em;
        display: flex;
        z-index: 1;
      }
      .img-logo{
        display: flex;
        width:15%;
        height:auto;
        min-width: 100px;
      }
      .custom-select{
        position: fixed;
        top: 2em;
        right: 2em;
        min-width: 15%;
        text-align: right;
        z-index: 1;
        pointer-events: none;
        display: flex;
        flex-direction: column;
      }
      .custom-select>* {
        pointer-events: auto;
      }
      #rooms{
          height: 30px;
          padding: 5px 12px;
          border-radius: 5px;
          cursor: pointer;
          background-color:rgba(255, 255, 255, 0.5);
      }
      .btn-voltar{
        border: 1px solid grey;
        border-radius: 5px;
        background-color:rgba(255, 255, 255, 0.5);
        color: black;
        padding: 5px 15px;
        font-size: 13px;
        cursor: pointer;
        margin-top: 5px;
      }
    </style>

    <script>
      AFRAME.registerComponent('cursor-listener', {
        init: function () {
          this.el.addEventListener('click', (pointCam) => {
            console.log('I was clicked at: ', pointCam.detail.intersection.point);
          });
        }
      });
        
        var CenaAtual = "cenaEntrada";
        
        
        
        //Função pegar o valor da caixa select
        function getSelectValue(){
            var selectedValue = document.getElementById("rooms").value;
            mudarCena(selectedValue);
            selectedValue = CenaAtual;
        }


        function sleep(ms) {
          return new Promise(
            resolve => setTimeout(resolve, ms)
          );
        }


        async function mudarCena(CenaAlvo){
          await sleep(500);
          document.getElementById(CenaAtual).setAttribute("visible", "false");
          document.getElementById(CenaAlvo).setAttribute("visible", "true");
          
          
          console.log("Cena atual é " + CenaAtual);
          CenaAtual = CenaAlvo;
          console.log("Cena de destino é " + CenaAlvo);
        }


      
    </script>
    
  </head>
  <body >
    <a-scene  vr-mode-ui="enabled: false" renderer="antialias: true">
      <a-assets>
        <img id="logo" src="assets\AustroFranca-Logo.png">
        <img id="marco" src="assets\seta.png" />
        <img id="corredorEntrada" src="assets\1903\Corredor_ParaEntrar.JPG" />
        <img id="salaCentro" src="assets\1903\Sala_Centro.JPG" />
        <img id="salaVista" src="assets\1903\Sala_Vista.JPG" />
        <img id="cozinha" src="assets\1903\Cozinha.JPG" />
        <img id="corredor" src="assets\1903\Corredor.JPG" />
        <img id="quartoP" src="assets\1903\Quarto_principal.JPG" />
        <img id="suite" src="assets\1903\Suite_Centro.JPG" />
        <img id="closet" src="assets\1903\Closet_Centro.JPG" />
        <img id="vistaQuarto" src="assets\1903\Quarto_principal_Vista.JPG" />
        <img id="Quarto1" src="assets\1903\Quarto2_Centro.JPG" />
        <img id="Quarto1Vista" src="assets\1903\Quarto2_Vista.JPG" />
      </a-assets>

      
      <a-entity id="IDCam" position="0 0 0" rotation="0 90 0">
        <a-camera
          id="cam"
          camera="fov:  40; zoom:  0.6"
          wasd-controls="enabled:false"
          look-controls
          movement-controls
          cursor="rayOrigin: mouse"
          >
          <!--animation__fade="property: position; to: 0 1 -5; dur: 400; startEvents: fade; delay: 100"
          animation__fadeOut="property: position; to: 0 1 0; dur: 0; delay: 500; startEvents: fade"-->
        </a-camera>
        <a-image
            src="#logo"
            width="1"
            height="1"
            position="0 -0.5 0"
            rotation="-90 90 0"
          ></a-image>

      </a-entity>

      
      <div class="custom-select">
      <select id="rooms" name="rooms" onchange="getSelectValue()">
        <option selected disabled>Selecione um cômodo:</option>
        <option value="cenaEntrada">Entrada</option>
        <option value="cenaSala">Sala</option>
        <option value="cenaVistaSala">Sala - Vista</option>
        <option value="cenaCorredor">Corredor</option>
        <option value="cenaCozinha">Cozinha</option>
        <option value="cenaQuartoP">Quarto Principal</option>
        <option value="cenaCloset">Quarto Principal - Closet</option>
        <option value="cenaSuite">Quarto Principal - Suite</option>
        <option value="cenaVistaQuarto">Quarto Principal - Vista</option>
        <option value="cenaQuarto1">Quarto 1</option>
        <option value="cenaQuarto1Vista">Quarto 1 - Vista</option>
        
      </select>


      <a href="/index.html">
        <button class="btn-voltar">Voltar ao Inicio</button>
      </a>
    
      
    </div>
    
      <!--Cena Entrada-->
      <a-entity class="cena" id="cenaEntrada" visible="true" >

        <a-sky
          id="sky"
          src="#corredorEntrada"
          radius="50"
          rotation="0 180 0"
          cursor-listener
          material= "opacity: 1"
          
        ></a-sky>
        
        <!--Ponto para Entrar-->
        <a-entity position="1.5 0 4" look-at="#cam">
          <a-image
            src="#marco"
            class="button"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaSala')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
            proxy-event="event: click; to: #sky; as: opaciSky"
            animation__fade1="property: material.opacity; to: 0; dur: 300; startEvents: opaciSky"
          ></a-image>
          <a-text
            text="width:  4;  value:  Entrar; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>        
      </a-entity>

      <!--Cena Centro da Sala-->
      <a-entity class="cena" id="cenaSala" visible="false"  >
        <a-sky
          src="#salaCentro"
          radius="50"
          rotation="0 180 0"
        ></a-sky>

        <!--Ponto para Vista-->
        <a-entity position="8 -0.2 0" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaVistaSala')"
            event-set__mouseenter="_event: mouseenter; scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="_event: mouseleave; scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
            
          ></a-image>
          
          <a-text
            text="width:  4;  value:  Vista da Sala; align: center "
            position="0 -0.3 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Saida-->
        <a-entity position="-3 0 2" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaEntrada')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Sair; align: center "
            position="0 -0.3 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Cozinha-->
        <a-entity position="-1.5 0 5" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCozinha')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Cozinha; align: center "
            position="0 -0.3 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Corredor-->
        <a-entity position="2 0 3.5" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCorredor')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value: Corredor; align: center "
            position="0 -0.3 0"
          ></a-text>
        </a-entity>
      </a-entity>

      <!--Cena Vista da Sala-->
      <a-entity class="cena" id="cenaVistaSala" visible="false">
        <a-sky
          src="#salaVista"
          radius="50"
          rotation="0 180 0"
        ></a-sky>

        <!--Ponto para Corredor-->
        <a-entity position="-4 0 2" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCorredor')"
            event-set__FadeIn="property: material.opacity; _target:#cenaVistaSala; to: 0; startEvents: click; dur: 500"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Corredor; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Sala-->
        <a-entity position="-3 0 0" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaSala')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Sala; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
      </a-entity>

      <!--Cena Corredor-->
      <a-entity class="cena" id="cenaCorredor" visible="false">
        <a-sky
          src="#corredor"
          radius="50"
          rotation="0 180 0"
        ></a-sky>
        
        <!--Ponto para Sala-->
        <a-entity position="5 0 0" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaSala')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Sala; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
        
        
        <!--Ponto para Quarto Principal-->
        <a-entity position="-5 0 1.2" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuartoP')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto Principal; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
        <!--Ponto para Quarto 1-->
        <a-entity position="-4.5 0 2.5" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuarto1')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto 1; align: center"
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
        
      </a-entity>

      <!--Cena Cozinha-->
      <a-entity class="cena" id="cenaCozinha" visible="false">
        <a-sky
          src="#cozinha"
          radius="50"
          rotation="0 200 0"
        ></a-sky>
        <!--Ponto para Sala-->
        <a-entity position="-5 0 0" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaSala')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  color: #C5C5C5; value:  Sala; align: center"
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
      </a-entity>
      
      <!--Cena Quarto Principal-->
      <a-entity class="cena" id="cenaQuartoP" visible="false">
        <a-sky
          src="#quartoP"
          radius="50"
          rotation="0 -45 0"
        ></a-sky>

        <!--Ponto para Corredor-->
        <a-entity position="1.5 0 5" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCorredor')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Corredor; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
        <!--Ponto para Vista-->
        <a-entity position="-2 0 -4" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaVistaQuarto')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Vista; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Closet-->
        <a-entity position="5 0 1" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCloset')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Closet; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
      </a-entity>

      <!--Cena Closet do Quarto-->
      <a-entity class="cena" id="cenaCloset" visible="false">
        <a-sky
          src="#closet"
          radius="50"
          rotation="0 -45 0"
        ></a-sky>
        <!--Ponto para Quarto-->
        <a-entity position="2.3 0 2.8" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaSuite')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Suite; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>

        <!--Ponto para Quarto-->
        <a-entity position="3 0 0" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuartoP')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
                
      </a-entity>
      
      <!--Cena Suite do Quarto-->
      <a-entity class="cena" id="cenaSuite" visible="false">
        <a-sky
          src="#suite"
          radius="50"
          rotation="0 -45 0"
        ></a-sky>
        <!--Ponto para Quarto-->
        <a-entity position="-2.3 0 -2.8" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCloset')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
                
      </a-entity>
      
      <!--Cena Vista do Quarto-->
      <a-entity class="cena" id="cenaVistaQuarto" visible="false">
        <a-sky
          src="#vistaQuarto"
          radius="50"
          rotation="0 -45 0"
        ></a-sky>
        <!--Ponto para Corredor-->
        <a-entity position="1.2 0 6" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCorredor')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Corredor; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        <!--Ponto para QuartoP-->
        <a-entity position="1.3 0 3" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuartoP')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
        
      </a-entity>
      
      
      <!--Cena Quarto 1-->
      <a-entity class="cena" id="cenaQuarto1" visible="false">
        <a-sky
          src="#Quarto1"
          radius="50"
          rotation="0 -45 0"
        ></a-sky>
        <!--Ponto para Vista-->
        <a-entity position="-1 0 -3" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuarto1Vista')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Vista; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        <!--Ponto para Corredor-->
        <a-entity position="5 0 3" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaCorredor')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Corredor; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
                
      </a-entity>
      
      <!--Cena Quarto 1 Vista-->
      <a-entity class="cena" id="cenaQuarto1Vista" visible="false">
        <a-sky
          src="#Quarto1Vista"
          radius="50"
          rotation="0 0 0"
        ></a-sky>
        <!--Ponto para Quarto-->
        <a-entity position="3 0 1" look-at="#cam">
          <a-image
            src="#marco"
            width="0.5"
            height="0.3"
            color="#FFF"
            onclick="mudarCena('cenaQuarto1')"
            event-set__mouseenter="scale: 1.2 1.2 1; color:#c5c5c5"
            event-set__mouseleave="scale: 1 1 1; color:#fff"
            proxy-event="event: click; to: #cam; as: fade"
          ></a-image>
          <a-text
            text="width:  4;  value:  Quarto; align: center "
            position="0 -0.5 0"
          ></a-text>
        </a-entity>
        
                
      </a-entity>
      
      
    </a-scene>
    
    

    <!--Função de Alterar Cena-->
    <script type="text/javascript">

        

       

    </script>
